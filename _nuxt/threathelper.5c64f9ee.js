import{u as D,q as T}from"./query.53b35fd3.js";import{h as U,C as p,l as W,r as y,o as n,z as m,u as e,a2 as F,S as k,R as V,v as b,c as g,U as S,Y as I,a3 as O,V as z,W as K,a4 as q,X as j,K as E,a5 as L,Z as X,$ as Y,a0 as Z,y as G}from"./entry.8a2e67bc.js";import{u as H}from"./questionStore.51bea0a6.js";import"./utils.6f5140f3.js";import"./preview.496a16a7.js";const J=_=>(Y("data-v-94aad8ba"),_=_(),Z(),_),M=["onKeydown"],P=J(()=>k("h1",{class:"mt-4 mb-2"}," Wie wichtig ist Ihnen das folgende Kriterium? ",-1)),ee={style:{height:"130px"}},te={key:0,class:"d-flex flex-row align-self-center",style:{height:"60px"}},ae={class:"d-flex justify-space-evenly"},le=U({__name:"threathelper",setup(_){const d=H();d.reset();const{data:l,pending:w}=D("index-th",()=>T("/criteria").findOne()),A={0:"egal",1:"wichtig",2:"zwingend erforderlich"},B=p(),h=p("slide-left"),f=p("slide-right"),t=p(d.recentQuestionIndex),r=p(0),i=p([]),s=d.answers,x=W(()=>!w.value&&t.value>=l.value.body.length-1);function C(){var a,u;f.value="slide-right",h.value="slide-left";const o={qIndex:t.value,criteriaSlug:(a=l.value)==null?void 0:a.body[t.value].slug,answer:((u=l.value)==null?void 0:u.body[t.value].type)==="option"?i.value:r.value};d.done||d.updateAnswer(o),x.value?(d.setDone(),E().push("/result")):(t.value+=1,r.value=0,i.value=[])}function N(o){var a,u;t.value<s.length&&(((a=l.value)==null?void 0:a.body[t.value].type)==="option"?s[t.value].answer=i.value:s[t.value].answer=r.value),o<t.value?(f.value="slide-left",h.value="slide-right"):(f.value="slide-right",h.value="slide-left"),t.value=o,o<s.length?((u=l.value)==null?void 0:u.body[o].type)==="option"?i.value=s[o].answer:r.value=s[o].answer:(i.value=[],r.value=0)}return(o,a)=>{const u=y("v-card"),Q=y("v-checkbox"),R=y("v-btn"),$=y("v-icon");return n(),m("div",null,[e(w)?j("",!0):(n(),m("div",{key:0,class:"d-flex flex-column ma-auto",style:{gap:"1em","max-width":"70%"},onKeydown:F(C,["enter"])},[P,k("div",ee,[V(O,{name:"slide",class:"position-absolute","leave-to-class":e(h),"enter-from-class":e(f)},{default:b(()=>[(n(),g(u,{class:"pa-8",elevation:"3",key:e(t),rounded:"",style:{width:"70%"}},{default:b(()=>[S(I(e(l).body[e(t)].name),1)]),_:1}))]),_:1},8,["leave-to-class","enter-from-class"])]),e(l).body[e(t)].type==="option"?(n(),m("div",te,[(n(!0),m(z,null,K(e(l).body[e(t)].options,v=>(n(),g(Q,{key:v.id,label:v.name,modelValue:e(i),"onUpdate:modelValue":a[0]||(a[0]=c=>q(i)?i.value=c:null),value:v.key,style:{margin:"0 5em 0 5em"}},null,8,["label","modelValue","value"]))),128))])):(n(),g(e(L),{key:1,min:"0",max:"2",modelValue:e(r),"onUpdate:modelValue":a[1]||(a[1]=v=>q(r)?r.value=v:null),step:"1","show-ticks":"always","tick-size":"10",ticks:A,color:"primary","thumb-color":"green","track-color":"blue","append-icon":"mdi-plus","prepend-icon":"mdi-minus",ref_key:"slider",ref:B},null,8,["modelValue"])),V(R,{onClick:C,class:"ma-auto mt-5 mb-7",color:"primary",size:"large"},{default:b(()=>[S(I(e(x)?"AbschlieÃŸen":"Weiter"),1)]),_:1}),k("div",ae,[(n(!0),m(z,null,K(e(l).body,(v,c)=>(n(),g($,{class:X(["click-icon",`${c===e(t)?"active":""} ${c<=e(s).length?"clickable":""}`]),icon:c>=e(s).length?"mdi-circle-outline":"mdi-circle",key:c,onClick:se=>c<=e(s).length?N(+c):null},null,8,["class","icon","onClick"]))),128))])],40,M))])}}});const ue=G(le,[["__scopeId","data-v-94aad8ba"]]);export{ue as default};
